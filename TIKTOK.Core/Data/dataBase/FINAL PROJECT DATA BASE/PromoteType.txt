Create Table PromoteType(
 ID NUMBER GENERATED BY DEFAULT AS IDENTITY CONSTRAINT PK_PromoteType PRIMARY Key,
 name Varchar2(255),
 price Number 
);

CREATE OR REPLACE PACKAGE  PromoteType_PACKAGE AS

    PROCEDURE PromoteType_CRUD(P_ACTION in varchar DEFAULT NULL 
    ,P_ID IN NUMBER DEFAULT NULL
    ,P_NAME IN VARCHAR DEFAULT NULL
    ,P_price IN VARCHAR DEFAULT NULL);
    
End PromoteType_PACKAGE;



CREATE OR REPLACE PACKAGE BODY PromoteType_PACKAGE AS
    
    PROCEDURE PromoteType_CRUD(P_ACTION in varchar DEFAULT NULL 
    ,P_ID IN NUMBER DEFAULT NULL
    ,P_NAME IN VARCHAR DEFAULT NULL
    ,P_price IN VARCHAR DEFAULT NULL)
    IS
        PromoteType_all SYS_REFCURSOR;
    BEGIN
        IF P_ACTION = 'INSERT' THEN
            INSERT INTO PromoteType VALUES(DEFAULT,P_NAME,P_price); 
            COMMIT;
        ELSIF P_ACTION = 'UPDATE' THEN

            UPDATE PromoteType SET
                NAME = P_NAME ,
                PRICE = P_price
            WHERE ID = P_ID;
            COMMIT;

        ELSIF P_ACTION = 'DELETE' THEN
            DELETE PromoteType WHERE ID = P_ID;
            COMMIT;

        ELSIF P_ACTION = 'GETALL' THEN
            OPEN PromoteType_all FOR SELECT * FROM PromoteType;
            dbms_sql.return_result(PromoteType_all);

        ELSIF P_ACTION = 'GETBYID' THEN
            OPEN PromoteType_all FOR SELECT * FROM PromoteType WHERE ID = P_ID;
            dbms_sql.return_result(PromoteType_all);
        ELSIF P_ACTION = 'GETBYNAME' THEN
            OPEN PromoteType_all FOR SELECT * FROM PromoteType WHERE NAME = P_NAME;
            dbms_sql.return_result(PromoteType_all);   
        END IF;
    END PromoteType_CRUD;

END PromoteType_PACKAGE;